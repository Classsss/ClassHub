@page "/classroom/{classroomid:int}/notice"
@layout MainLayout
@inject HttpClient Http
@using ClassHub.Shared

<NoticeList notices="@notices" />

@code {
    [Parameter]
    public int ClassRoomId { get; set; }

    private List<Notice> notices = new List<Notice>(); // 리스트를 초기화합니다.

    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();

        var notices = await Http.GetFromJsonAsync<List<Notice>>($"api/classroom/{ClassRoomId}");
        if (notices != null)
        {
            Console.WriteLine(notices[0].author);
            foreach (var notice in notices)
            {
                this.notices.Add(notice);
            }
        }
    }
}


